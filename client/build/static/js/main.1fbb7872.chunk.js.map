{"version":3,"sources":["material_pages/employee/Employee.js","material_pages/admin/Overview.js","material_pages/admin/Stations.js","material_pages/admin/Parts.js","material_pages/admin/WorkOrders.js","material_pages/admin/Employees.js","material_pages/admin/Admin.js","material_pages/login/Login.js","components/Notfound.js","App.js","index.js"],"names":["displayTime","time","hours","minutes","seconds","Math","floor","concat","WorkingModal","props","react_default","a","createElement","className","workOrder","part","name","quantity","partialQty","modalErr","onClick","viewAttachment","id","filename","handleStop","handleFinish","ReviewModal","type","onChange","handleTextChange","value","partsCompleted","htmlFor","handleReview","Employee","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","Axios","post","then","result","sessionStorage","clear","sortWorkOrders","state","stations","workOrders","stationID","document","querySelector","forEach","station","setState","selectedStation","sortedWorkOrders","wo","currentStation","push","componentWillMount","userInfo","JSON","parse","getItem","isAdmin","username","history","replace","componentDidMount","handleRefresh","sidenav","getElementById","M","Sidenav","init","modal","Modal","dismissible","componentDidUpdate","select","FormSelect","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","get","data","err","stop","parseInt","isNaN","selectedWorkOrder","assign","counter","put","uid","hideModal","reviewing","clearInterval","timer","currentWorkOrder","handleStart","showModal","setInterval","prevState","handlePut","getInstance","open","close","event","_this$setState","target","defineProperty","filepath","firebase","storage","ref","getDownloadURL","url","window","_this2","Link","to","href","data-target","style","height","map","index","key","disabled","notes","e","preventDefault","Employee_ReviewModal","Employee_WorkingModal","React","Component","sum","formatTime","Table","workorders","handleHistory","Overview","sorted","obj","hasOrder","sortedOrders","message","catch","_ref2","_callee2","instance","_context2","currentHistory","_x","apply","arguments","Overview_Table","stationName","employeeName","Stations","handleStationDelete","handleTextInput","handleSubmit","handleStationCreate","length","require","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Parts","parts","console","log","handleSelectChange","newPartStations","getSelectedValues","handleDelete","errModal","file","files","undefined","reader","FileReader","onloadend","blob","Blob","newPartID","readAsArrayBuffer","querySelectorAll","input","box","checked","click","minHeight","multiple","stringify","WorkOrders","job","firestore","Timestamp","dateCreated","nanoseconds","toDate","toLocaleDateString","Employees","employees","toggleAdmin","employee","count","emp","Error","getInstanceI","email","password","Admin","isLoadedData","token","isLoggedIn","elem","draggable","Route","exact","path","component","Login","credentials","localStorage","remember","handleInputChange","handleCheckboxChange","setItem","focus","defaultChecked","Notfound","App","BrowserRouter","Switch","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.1fbb7872.chunk.js","sourcesContent":["import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\n\r\nfunction displayTime(time) {\r\n    let hours = 0, minutes = 0, seconds = 0;\r\n\r\n    hours = Math.floor(time / 60 / 60);\r\n    if (hours < 10)\r\n        hours = `0${hours}`;\r\n\r\n    minutes = time >= 3600 ? Math.floor((time % 3600) / 60) : Math.floor(time / 60);\r\n    if (minutes < 10)\r\n        minutes = `0${minutes}`;\r\n\r\n    seconds = time % 60;\r\n    if (seconds < 10)\r\n        seconds = `0${seconds}`\r\n\r\n    return `${hours}:${minutes}:${seconds}`;\r\n}\r\n\r\nconst WorkingModal = props => (\r\n    <div className=\"container\">\r\n        <div className=\"row\">\r\n            <h5 className=\"left\">{props.workOrder.part.name}</h5>\r\n            <h3 className=\"right\">{displayTime(props.time)}</h3>\r\n        </div>\r\n        <div className=\"row\">\r\n            <h5>Order Quantity: {props.workOrder.quantity}</h5>\r\n            <h5>Remaining: {props.workOrder.quantity - props.workOrder.partialQty}</h5>\r\n        </div>\r\n        <div className=\"row\">\r\n            <h5 className=\"red-text\">{props.modalErr}</h5>\r\n        </div>\r\n        <div className=\"row\">\r\n            <hr />\r\n            <button className=\"btn-flat blue-text waves-effect waves-light\" onClick={() => props.viewAttachment(`${props.workOrder.part.id}/${props.workOrder.part.filename}`)}>Attachment</button>\r\n            <button className=\"btn-flat red-text waves-effect waves-light right\" onClick={props.handleStop}>Stop</button>\r\n            <button className=\"btn-flat green-text waves-effect waves-light right\" onClick={props.handleFinish}>Finish</button>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nconst ReviewModal = props => (\r\n    <div className=\"container\">\r\n        <div className=\"row\">\r\n            <h5 className=\"left\">{props.workOrder.part.name}</h5>\r\n            <h3 className=\"right\">{displayTime(props.time)}</h3>\r\n        </div>\r\n        <div className=\"row\">\r\n            <h5>How many parts did you complete?</h5>\r\n            <div className=\"input-field\">\r\n                <input type=\"text\" name=\"partsCompleted\" onChange={props.handleTextChange} value={props.partsCompleted} />\r\n                <label htmlFor=\"partsCompleted\">Parts completed</label>\r\n            </div>\r\n            <div className=\"row\">\r\n                <h6 className=\"red-text left\">{props.modalErr}</h6>\r\n                <button className=\"btn-flat blue-text waves-effect waves-light right\" onClick={props.handleReview}>Done</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\n\r\nexport default class Employee extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: null,\r\n            stations: null,\r\n            selectedStation: null,\r\n            workOrders: null,\r\n            sortedWorkOrders: null,\r\n            selectedWorkOrder: {\r\n                part: { name: 'work order not loaded' },\r\n                quantity: 'work order not loaded',\r\n                partialQty: 'work order not loaded'\r\n            },\r\n            err: null,\r\n            modalErr: null,\r\n            counter: 0,\r\n            timer: null,\r\n            userInfo: null,\r\n            reviewing: false,\r\n            partsCompleted: '',\r\n        }\r\n    }\r\n\r\n    logout = () => {\r\n        Axios.post('api/v1/auth/logout')\r\n            .then(result => {\r\n                sessionStorage.clear();\r\n            })\r\n    }\r\n\r\n    sortWorkOrders = () => {\r\n        if (!this.state.stations || !this.state.workOrders)\r\n            return;\r\n\r\n        const stationID = document.querySelector('select').value;\r\n\r\n        this.state.stations.forEach(station => { if (station.id === stationID) this.setState({ selectedStation: station }); })\r\n\r\n        const sortedWorkOrders = [];\r\n\r\n        this.state.workOrders.forEach(wo => {\r\n            if (wo.currentStation.id === stationID) {\r\n                sortedWorkOrders.push(wo);\r\n            }\r\n        })\r\n        this.setState({ sortedWorkOrders });\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        const userInfo = JSON.parse(sessionStorage.getItem('userInfo'));\r\n        if (!userInfo) {\r\n            this.props.history.replace('/');\r\n            return;\r\n        }\r\n        this.setState({ isAdmin: userInfo.isAdmin, username: userInfo.name, userInfo });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const sidenav = document.getElementById('slide-out');\r\n        M.Sidenav.init(sidenav);\r\n        const modal = document.getElementById('modal');\r\n        M.Modal.init(modal, { dismissible: false });\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        const select = document.querySelector('select');\r\n        M.FormSelect.init(select);\r\n    }\r\n\r\n    handleRefresh = async () => {\r\n        await Axios.get('/api/v1/stations/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n                this.setState({ stations: result.data })\r\n            })\r\n\r\n        await Axios.get('/api/v1/workorders/active')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.setState({ workOrders: result.data })\r\n            })\r\n\r\n        this.sortWorkOrders();\r\n    }\r\n\r\n    handleReview = () => {\r\n        const partsCompleted = parseInt(this.state.partsCompleted);\r\n        if (partsCompleted === null || isNaN(partsCompleted)) {\r\n            this.setState({ modalErr: 'Parts Completed must be a number' });\r\n            return;\r\n        }\r\n        else if (partsCompleted > (this.state.selectedWorkOrder.quantity - this.state.selectedWorkOrder.partialQty) || partsCompleted < 0) {\r\n            this.setState({ modalErr: `Parts Completed must be between 0 and ${this.state.selectedWorkOrder.quantity - this.state.selectedWorkOrder.partialQty}` });\r\n            return;\r\n        }\r\n\r\n        if (partsCompleted === (parseInt(this.state.selectedWorkOrder.quantity) - parseInt(this.state.selectedWorkOrder.partialQty))) {\r\n            this.handleFinish();\r\n            return;\r\n        }\r\n\r\n        const currentStation = Object.assign(this.state.selectedStation);\r\n        currentStation.time = this.state.counter;\r\n\r\n        Axios.put(`/api/v1/workorders/update/${this.state.selectedWorkOrder.id}`, {\r\n            currentStation,\r\n            uid: this.state.userInfo.uid,\r\n            username: this.state.userInfo.name,\r\n            partsCompleted,\r\n            partialQty: parseInt(this.state.selectedWorkOrder.partialQty) + partsCompleted\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err })\r\n                    return;\r\n                }\r\n                this.handleRefresh();\r\n                this.hideModal();\r\n                this.setState({ reviewing: false, modalErr: null, partsCompleted: '' });\r\n            })\r\n    }\r\n\r\n    handleFinish = () => {\r\n        clearInterval(this.state.timer);\r\n        const currentWorkOrder = Object.assign(this.state.selectedWorkOrder);\r\n        currentWorkOrder.currentStation.time = this.state.counter;\r\n\r\n        Axios.put(`api/v1/workorders/next`, {\r\n            currentWorkOrder,\r\n            uid: this.state.userInfo.uid,\r\n            username: this.state.userInfo.name,\r\n            partsCompleted: parseInt(this.state.partsCompleted)\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.handleRefresh();\r\n                this.hideModal();\r\n                this.setState({ reviewing: false, modalErr: null, partsCompleted: '' });\r\n            })\r\n    }\r\n\r\n    handleStart = wo => {\r\n        this.setState({ selectedWorkOrder: wo });\r\n        this.showModal();\r\n\r\n        const timer = setInterval(() => {\r\n            this.setState(prevState => ({ counter: (prevState.counter + 1) }));\r\n        }, 1000);\r\n\r\n        this.setState({ timer });\r\n    }\r\n\r\n    handleStop = () => {\r\n        clearInterval(this.state.timer);\r\n        this.setState({ reviewing: true, modalErr: null });\r\n    }\r\n\r\n    handlePut = () => {\r\n        Axios.put('/api/v1/workorders/next', {\r\n            currentWorkOrder: this.state.selectedWorkOrder,\r\n            uid: this.state.userInfo.uid,\r\n            username: this.state.userInfo.name,\r\n            partsCompleted: 0\r\n        })\r\n    }\r\n\r\n    showModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.open();\r\n    }\r\n\r\n    hideModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.close();\r\n    }\r\n\r\n    handleTextChange = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        let modalErr = null;\r\n\r\n        if (!value || isNaN(value)) {\r\n            modalErr = 'Parts Completed must be a number';\r\n        }\r\n        else if (value > (this.state.selectedWorkOrder.quantity - this.state.selectedWorkOrder.partialQty) || value < 0) {\r\n            modalErr = `Parts Completed must be between 0 and ${this.state.selectedWorkOrder.quantity - this.state.selectedWorkOrder.partialQty}`;\r\n        }\r\n\r\n        this.setState({ [name]: value, modalErr });\r\n    }\r\n\r\n    viewAttachment = filepath => {\r\n        firebase.storage().ref(filepath).getDownloadURL()\r\n            .then(url => window.open(url, '_blank'));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <nav>\r\n                    <div className=\"nav-wrapper teal darken-4\">\r\n                        <Link to=\"/employee\" className=\"brand-logo\">{this.state.username}</Link>\r\n                        <a href=\"/\" data-target=\"slide-out\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\r\n                        <ul id=\"navbar\" className=\"right hide-on-med-and-down\">\r\n                            {this.state.isAdmin ? <li><Link to=\"/admin\">Go to Admin Page</Link></li> : null}\r\n                            <li><Link to=\"/\" onClick={this.logout}>Logout</Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ul id=\"slide-out\" className=\"sidenav\">\r\n                    {this.state.isAdmin ? <li><Link to=\"/admin\">Go to Admin Page</Link></li> : null}\r\n                    <li><Link to=\"/\" onClick={this.logout}>Logout</Link></li>\r\n                </ul>\r\n\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div style={{ height: '22px' }} />\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"input-field\">\r\n                            <select onChange={this.sortWorkOrders}>\r\n                                {this.state.stations ? this.state.stations.map((station, index) => {\r\n                                    return <option key={index} value={station.id}>{station.name}</option>\r\n                                }) : <option disabled>Unable to Load Stations</option>}\r\n                            </select>\r\n                            <label>Select a Station</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        {this.state.sortedWorkOrders ? this.state.sortedWorkOrders.map((wo, index) => {\r\n                            return (\r\n                                <div key={index} className=\"col s12 m4 l3\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-content\">\r\n                                            <h5>{wo.part.name}</h5>\r\n                                            <p>Order quantity: {wo.quantity}</p>\r\n                                            <p>Remaining quantity: {wo.quantity - wo.partialQty}</p>\r\n                                            <p>Notes: {wo.notes}</p>\r\n                                        </div>\r\n                                        <div className=\"card-action\">\r\n                                            <a href=\"/\" className=\"green-text\" onClick={e => { e.preventDefault(); this.handleStart(wo) }}>Start</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) : null}\r\n                    </div>\r\n                    <div id=\"modal\" className=\"modal\">\r\n                        {this.state.reviewing ?\r\n                            <ReviewModal workOrder={this.state.selectedWorkOrder} time={this.state.counter} modalErr={this.state.modalErr} handleTextChange={this.handleTextChange} handleReview={this.handleReview} partsCompleted={this.state.partsCompleted} />\r\n                            :\r\n                            <WorkingModal workOrder={this.state.selectedWorkOrder} time={this.state.counter} modalErr={this.state.modalErr} handleStop={this.handleStop} viewAttachment={this.viewAttachment} handleFinish={this.handleFinish} />\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\nlet sum = 0;\r\n\r\nfunction formatTime(time) {\r\n    let hours = 0, minutes = 0, seconds = 0;\r\n\r\n    hours = Math.floor(time / 60 / 60);\r\n    if (hours < 10)\r\n        hours = `0${hours}`;\r\n\r\n    minutes = time >= 3600 ? Math.floor((time % 3600) / 60) : Math.floor(time / 60);\r\n    if (minutes < 10)\r\n        minutes = `0${minutes}`;\r\n\r\n    seconds = time % 60;\r\n    if (seconds < 10)\r\n        seconds = `0${seconds}`\r\n\r\n    return `${hours}:${minutes}:${seconds}`;\r\n}\r\n\r\n\r\nconst Table = props => (\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Part Name</th>\r\n                <th>Order Qty</th>\r\n                <th>Remaining Qty</th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {props.workorders.map((wo, index) => {\r\n                return (\r\n                    <tr key={index}>\r\n                        <td>{wo.part.name}</td>\r\n                        <td>{wo.quantity}</td>\r\n                        <td>{wo.quantity - wo.partialQty}</td>\r\n                        <td><button className=\"btn-flat blue-text grey lighten-5 waves-effect waves-light blue\" onClick={() => props.handleHistory(wo)}>History</button></td>\r\n                    </tr>\r\n                )\r\n            })}\r\n        </tbody>\r\n    </table>\r\n)\r\n\r\n\r\n\r\nexport default class Overview extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            workOrders: null,\r\n            stations: null,\r\n            sortedOrders: null,\r\n            currentHistory: null,\r\n            err: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const modal = document.getElementById('modal');\r\n        M.Modal.init(modal);\r\n\r\n    }\r\n\r\n    sortWorkOrders = (stations, workorders) => {\r\n        if (!stations || !workorders) {\r\n            this.setState({ err: { message: 'Station and Work Order data could not be accessed.' } });\r\n            return;\r\n        }\r\n        const sorted = [];\r\n\r\n        stations.forEach(station => {\r\n            let obj = {\r\n                name: station.name,\r\n                workorders: []\r\n            };\r\n            let hasOrder = false;\r\n            workorders.forEach(wo => {\r\n                if (wo.currentStation.id === station.id) {\r\n                    hasOrder = true;\r\n                    obj.workorders.push(wo);\r\n                }\r\n            })\r\n            if (hasOrder)\r\n                sorted.push(obj);\r\n        })\r\n\r\n        this.setState({ sortedOrders: sorted });\r\n    }\r\n\r\n    handleRefresh = async () => {\r\n        let stations, workorders;\r\n        await Axios.get('/api/v1/workorders/active')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n                workorders = result.data;\r\n            })\r\n            .catch(err => this.setState({ err }));\r\n\r\n        await Axios.get('/api/v1/stations/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n                stations = result.data;\r\n            })\r\n            .catch(err => this.setState({ err }));\r\n\r\n        this.sortWorkOrders(stations, workorders);\r\n    }\r\n\r\n    handleHistory = async wo => {\r\n        sum = 0;\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        await this.setState({ currentHistory: wo.history });\r\n        instance.open();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                {this.state.sortedOrders ? this.state.sortedOrders.map((data, index) => {\r\n                    return (\r\n                        <div key={index} className=\"row\">\r\n                            <h3>{data.name}</h3>\r\n                            <Table workorders={data.workorders} handleHistory={this.handleHistory} />\r\n                            <div style={{ height: '60px' }} />\r\n                        </div>\r\n                    )\r\n                }) : null}\r\n\r\n                <div id=\"modal\" className=\"modal\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div style={{height: '12px'}} />\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h5>Part History</h5>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Station</th>\r\n                                    <th>Employee</th>\r\n                                    <th>Elapsed Time</th>\r\n                                    <th>Parts Completed</th>\r\n                                    <th>Total Elapsed Time</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.state.currentHistory ? this.state.currentHistory.map((data, index) => {\r\n                                    sum += data.time;\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td>{data.stationName}</td>\r\n                                            <td>{data.employeeName}</td>\r\n                                            <td>{formatTime(data.time)}</td>\r\n                                            <td>{data.partsCompleted}</td>\r\n                                            <td>{formatTime(sum)}</td>\r\n                                        </tr>\r\n                                    )\r\n                                }) : null}\r\n                            </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\n\r\nexport default class Stations extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            stations: null,\r\n            name: '',\r\n            err: null,\r\n            modalErr: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const modal = document.getElementById('modal');\r\n        M.Modal.init(modal);\r\n    }\r\n\r\n    handleRefresh = () => {\r\n        Axios.get('/api/v1/stations/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err })\r\n                    return;\r\n                }\r\n\r\n                this.setState({ stations: result.data })\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n    }\r\n\r\n    handleStationDelete = id => {\r\n        Axios.put('/api/v1/stations/remove', {\r\n            id\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.handleRefresh();\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n    }\r\n\r\n    handleTextInput = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({ [name]: value, modalErr: '' });\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        this.handleStationCreate(this.state.name);\r\n    }\r\n\r\n    handleStationCreate = name => {\r\n        if (!name || name.length < 4) {\r\n            this.setState({ modalErr: 'Station names must be at least 4 letters long.' })\r\n            return;\r\n        }\r\n\r\n        Axios.post('/api/v1/stations/create', {\r\n            stationName: name\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.handleRefresh();\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n\r\n        this.clear();\r\n        this.hideModal();\r\n    }\r\n\r\n    showModal = event => {\r\n        event.preventDefault();\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.open();\r\n    }\r\n\r\n    hideModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.close();\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({ name: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"fixed-action-btn right\">\r\n                        <a href=\"/\" className=\"btn-floating blue waves-effect waves-light\" onClick={this.showModal}><i className=\"material-icons\">add</i></a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <h4 className=\"red-text\">{this.state.err ? this.state.err.message : null}</h4>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Station Name</th>\r\n                                <th>Remove Station</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.stations ? this.state.stations.map((station, index) => {\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <td>{station.name}</td>\r\n                                        <td><button className=\"btn waves-effect waves-light red-text btn-flat grey lighten-5\" onClick={() => this.handleStationDelete(station.id)}>Delete</button></td>\r\n                                    </tr>\r\n                                )\r\n                            }) : null}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div className=\"modal\" id=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <h4>Create New Station</h4>\r\n                        <form className=\"col\">\r\n                            <div className=\"row\">\r\n                                <div className=\"input-field\">\r\n                                    <input id=\"name\" name=\"name\" type=\"text\" onChange={this.handleTextInput} value={this.state.name} />\r\n                                    <label htmlFor=\"name\">Station Name</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"input-field\">\r\n                                    <button className=\"btn waves-effect waves-light blue\" onClick={this.handleSubmit}>Create</button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <h5 className=\"red-text\">{this.state.modalErr ? this.state.modalErr : null}</h5>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\nconst firebase = require('firebase/app');\r\nrequire('firebase/storage');\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyAZB-qbjpKVRvaQt17kPsPTMav3O12by6k\",\r\n    authDomain: \"project-runner-f1bdc.firebaseapp.com\",\r\n    databaseURL: \"https://project-runner-f1bdc.firebaseio.com\",\r\n    projectId: \"project-runner-f1bdc\",\r\n    storageBucket: \"project-runner-f1bdc.appspot.com\",\r\n    messagingSenderId: \"757776283780\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nexport default class Parts extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            parts: null,\r\n            stations: null,\r\n            err: null,\r\n            errModal: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const modal = document.getElementById('modal');\r\n        const select = document.querySelector('select');\r\n        M.Modal.init(modal);\r\n        M.FormSelect.init(select);\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        const select = document.querySelector('select');\r\n        M.FormSelect.init(select);\r\n    }\r\n\r\n    handleRefresh = () => {\r\n        Axios.get('/api/v1/parts/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.setState({ parts: result.data });\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n\r\n        Axios.get('/api/v1/stations/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.setState({ stations: result.data }, () => console.log);\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n\r\n    }\r\n\r\n    handleTextChange = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSelectChange = event => {\r\n        const select = event.target;\r\n        const instance = M.FormSelect.getInstance(select);\r\n        const newPartStations = [];\r\n        instance.getSelectedValues().forEach(value => newPartStations.push(JSON.parse(value)))\r\n        this.setState({ newPartStations }, () => console.log(this.state));\r\n    }\r\n\r\n    handleDelete = id => {\r\n        Axios.put(`/api/v1/parts/archive/${id}`)\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.handleRefresh();\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n    }\r\n\r\n    showModal = event => {\r\n        event.preventDefault();\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.open();\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (!this.state.newPartStations || this.state.newPartStations.length < 1) {\r\n            this.setState({ errModal: 'Please select a minimum of one station' });\r\n            return;\r\n        }\r\n\r\n        if (!this.state.name || this.state.name.length < 4) {\r\n            this.setState({ errModal: 'Part Names must be at least 4 letters long' });\r\n            return;\r\n        }\r\n\r\n        const file = document.getElementById('attachment').files[0];\r\n        if (file !== undefined) {\r\n            var reader = new FileReader();\r\n            reader.onloadend = e => {\r\n                const blob = new Blob([e.target.result], { type: file.type });\r\n                Axios.post('/api/v1/parts/create', {\r\n                    part: {\r\n                        name: this.state.name,\r\n                        stations: this.state.newPartStations,\r\n                        filename: file.name\r\n                    }\r\n                })\r\n                    .then(result => {\r\n                        if (result.data.err) {\r\n                            this.setState({ err: result.data.err });\r\n                            return;\r\n                        }\r\n\r\n                        const ref = firebase.storage().ref(`/${result.data.newPartID}/${file.name}`);\r\n                        console.log(ref);\r\n                        ref.put(blob)\r\n                            .then(() => console.log('file successfully uploaded'), () => this.setState({ err: { message: 'An unknown error occured during file upload' } }));\r\n                    })\r\n                    .catch(err => this.setState({ err }));\r\n            }\r\n            reader.readAsArrayBuffer(file);\r\n        }\r\n        else {\r\n            Axios.post('/api/v1/parts/create', {\r\n                part: {\r\n                    name: this.state.name,\r\n                    stations: this.state.newPartStations,\r\n                    filename: 'no file'\r\n                }\r\n            })\r\n                .then(result => {\r\n                    if (result.data.err) {\r\n                        this.setState({ err: result.data.err })\r\n                        return;\r\n                    }\r\n                })\r\n                .catch(err => this.setState({ err }))\r\n        }\r\n\r\n        this.handleRefresh();\r\n        this.clear();\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.close();\r\n    }\r\n\r\n    viewAttachment = filepath => {\r\n        firebase.storage().ref(filepath).getDownloadURL()\r\n            .then(url => window.open(url, '_blank'));\r\n    }\r\n\r\n    clear = () => {\r\n        const inputs = document.querySelectorAll('input[type=text]');\r\n        inputs.forEach(input => input.value = '');\r\n        const checkboxes = document.querySelectorAll('input[type=checkbox]');\r\n        checkboxes.forEach(box => {\r\n            if(box.checked === true)\r\n                box.click();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <h4>{this.state.err ? this.state.err.message : null}</h4>\r\n                </div>\r\n                <div className=\"fixed-action-btn\">\r\n                    <a href=\"/\" className=\"btn-floating waves-effect waves-light blue\" onClick={this.showModal}><i className=\"material-icons\">add</i></a>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {this.state.parts ? this.state.parts.map((part, index) => {\r\n                        return (\r\n                            <div key={index} className=\"col s12 m4 l3\">\r\n                                <div className=\"card\" >\r\n                                    <div className=\"card-content\">\r\n                                        <h5>{part.name}</h5>\r\n                                        {part.stations.map((station, index) => {\r\n                                            return <p key={index}>{station.name}</p>\r\n                                        })}\r\n                                    </div>\r\n                                    <div className=\"card-action\">\r\n                                        <a href=\"/\" className=\"blue-text\" onClick={e => { e.preventDefault(); this.viewAttachment(part.filepath) }}>Attachment</a>\r\n                                        {/* <a href=\"/\" className=\"blue-text\" onClick={e => { e.preventDefault(); this.handleEdit(part) }}>Edit</a> */}\r\n                                        <a href=\"/\" className=\"blue-text\" onClick={e => { e.preventDefault(); this.handleDelete(part.id) }}>Delete</a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }) : null}\r\n                </div>\r\n                <div id=\"modal\" className=\"modal\">\r\n                    <div className=\"container\" style={{ minHeight: '60vh' }}>\r\n                        <div className=\"row\">\r\n                            <div style={{height: '12px'}} />\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h4 className=\"red-text\">{this.state.errModal ? this.state.errModal : null}</h4>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h4>Create New Part</h4>\r\n                        </div>\r\n                        <form className=\"row\">\r\n                            <div className=\"row\">\r\n                                <div className=\"input-field\">\r\n                                    <input name=\"name\" type=\"text\" id=\"name\" onChange={this.handleTextChange} />\r\n                                    <label htmlFor=\"name\">Part Name</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"file-field input-field\">\r\n                                <div className=\"btn white blue-text\">\r\n                                    <span>Attachment</span>\r\n                                    <input id=\"attachment\" type=\"file\" />\r\n                                </div>\r\n                                <div className=\"file-path-wrapper\">\r\n                                    <input name=\"filepath\" className=\"file-path validate\" type=\"text\" />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    {this.state.stations ?\r\n                                        <select multiple onChange={this.handleSelectChange}>\r\n                                            {this.state.stations.map((station, index) => {\r\n                                                return <option key={index} value={JSON.stringify(station)}>{station.name}</option>\r\n                                            })}\r\n                                        </select>\r\n                                        : <p>Stations Unavailable</p>}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"input-field\">\r\n                                <button className=\"btn waves-effect waves-light blue\" onClick={this.handleSubmit}>Create New Part</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\nconst firebase = require('firebase/app');\r\nrequire('firebase/firestore');\r\nrequire('firebase/storage');\r\n\r\nexport default class WorkOrders extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            workOrders: null,\r\n            parts: null,\r\n            part: null,\r\n            quantity: undefined,\r\n            notes: '',\r\n            err: null,\r\n            modalErr: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const modal = document.getElementById('modal');\r\n        M.Modal.init(modal);\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        const select = document.querySelector('select');\r\n        M.FormSelect.init(select);\r\n    }\r\n\r\n    handleRefresh = () => {\r\n        Axios.get('/api/v1/workorders/active')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err })\r\n                    return;\r\n                }\r\n                this.setState({ workOrders: result.data })\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n\r\n        Axios.get('/api/v1/parts/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err })\r\n                    return;\r\n                }\r\n                this.setState({ parts: result.data })\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n    }\r\n\r\n    handleTextChange = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({ [name]: value, modalErr: null })\r\n    }\r\n\r\n    handleSelectChange = event => {\r\n        const select = document.querySelector('select');\r\n        const value = JSON.parse(select.value);\r\n        this.setState({ part: value }, () => console.log(this.state.part));\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        let part = this.state.part;\r\n        const quantity = parseInt(this.state.quantity);\r\n\r\n        if (isNaN(quantity) || quantity < 1) {\r\n            this.setState({ modalErr: 'Quantity must be a number.' })\r\n            return;\r\n        }\r\n\r\n        if (!this.state.part) {\r\n            part = this.state.parts[0];\r\n        }\r\n\r\n        Axios.post('/api/v1/workorders/create', {\r\n            job: {\r\n                part,\r\n                quantity,\r\n                notes: this.state.notes\r\n            }\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n                this.handleRefresh();\r\n                this.clear();\r\n                this.hideModal();\r\n            })\r\n    }\r\n\r\n    viewAttachment = filepath => {\r\n        firebase.storage().ref(filepath).getDownloadURL()\r\n            .then(url => window.open(url, '_blank'));\r\n    }\r\n\r\n    showModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.open();\r\n    }\r\n\r\n    hideModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.close();\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({ err: null, modalErr: null, quantity: undefined, notes: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <h5 className=\"red-text\">{this.state.err ? this.state.err.message : null}</h5>\r\n                </div>\r\n                <div className=\"fixed-action-btn\">\r\n                    <button className=\"btn-floating blue\" onClick={this.showModal}><i className=\"material-icons\">add</i></button>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {this.state.workOrders ? this.state.workOrders.map((wo, index) => {\r\n                        return (\r\n                            <div key={index} className=\"col s12 m4 l3\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-content\">\r\n                                        <h5>{wo.part.name}</h5>\r\n                                        <p>Date Created: {new firebase.firestore.Timestamp(wo.dateCreated.seconds, wo.dateCreated.nanoseconds).toDate().toLocaleDateString()}</p>\r\n                                        <p>Current Station: {wo.currentStation.name}</p>\r\n                                        <p>Order Quantity: {wo.quantity}</p>\r\n                                        <p>Remaining Quantity: {wo.quantity - wo.partialQty}</p>\r\n                                    </div>\r\n                                    <div className=\"card-action\">\r\n                                        {wo.part.filename === 'No File' ?\r\n                                            <a href=\"/\" className=\"grey-text\" onClick={e => e.preventDefault()}>Attachment</a>\r\n                                            :\r\n                                            <a href=\"/\" className=\"blue-text\" onClick={e => { e.preventDefault(); this.viewAttachment(`${wo.part.id}/${wo.part.filename}`) }}>Attachment</a>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }) : null}\r\n                </div>\r\n                <div className=\"modal\" id=\"modal\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <h5 className=\"red-text\">{this.state.modalErr ? this.state.modalErr : null}</h5>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h5>Create New Work Order</h5>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <form>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <select onChange={this.handleSelectChange} >\r\n                                            {this.state.parts ? this.state.parts.map((part, index) => {\r\n                                                return <option key={index} value={JSON.stringify(part)}>{part.name}</option>\r\n                                            }) : <option disabled>Parts Failed to Load</option>}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <input type=\"text\" name=\"quantity\" id=\"quantity\" onChange={this.handleTextChange} value={this.state.quantity} />\r\n                                        <label htmlFor=\"quantity\">Quantity</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <textarea name=\"notes\" id=\"textarea\" className=\"materialize-textarea\" onChange={this.handleTextChange} value={this.state.notes} />\r\n                                        <label htmlFor=\"textarea\">Notes</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <button className=\"btn waves-effect waves-light blue\" onClick={this.handleSubmit}>Create</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ height: '15vh' }} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport M from 'materialize-css';\r\n\r\nexport default class Employees extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            employees: null,\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            err: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.handleRefresh();\r\n        const modal = document.getElementById('modal');\r\n        M.Modal.init(modal);\r\n    }\r\n\r\n    handleRefresh = () => {\r\n        Axios.get('/api/v1/employees/all')\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n\r\n                this.setState({ employees: result.data })\r\n            })\r\n    }\r\n\r\n    toggleAdmin = employee => {\r\n        this.setState({ err: null })\r\n        try {\r\n            if (employee.isAdmin) {\r\n                let count = 0;\r\n                this.state.employees.forEach(emp => {\r\n                    if (emp.isAdmin)\r\n                        count++;\r\n                })\r\n                if (count <= 1) {\r\n                    throw new Error({ err: { message: 'There must always be at least one user with Administrator privileges.' } });\r\n                }\r\n            }\r\n\r\n            Axios.put('/api/v1/employees/togglepermission', {\r\n                id: employee.id,\r\n                isAdmin: employee.isAdmin\r\n            })\r\n                .then(result => {\r\n                    if (result.data.err) {\r\n                        this.setState({ err: result.data.err });\r\n                        return;\r\n                    }\r\n                    this.handleRefresh();\r\n                })\r\n                .catch(err => this.setState({ err: { message: 'There must always be at least one user with Administrator privileges.' } }));\r\n        }\r\n        catch (err) {\r\n            this.setState({ err })\r\n        }\r\n    }\r\n\r\n    handleDelete = id => {\r\n        Axios.put(`/api/v1/employees/archive/${id}`)\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    return;\r\n                }\r\n                this.handleRefresh();\r\n            })\r\n    }\r\n\r\n    showModal = event => {\r\n        event.preventDefault();\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstance(modal);\r\n        instance.open();\r\n    }\r\n\r\n    hideModal = () => {\r\n        const modal = document.getElementById('modal');\r\n        const instance = M.Modal.getInstanceI(modal);\r\n        instance.close();\r\n    }\r\n\r\n    handleTextChange = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({ [name]: value, modalErr: null });\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        Axios.post('/api/v1/auth/create', {\r\n            employee: {\r\n                email: this.state.email,\r\n                password: this.state.password,\r\n                name: this.state.name\r\n            }\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ modalErr: result.data.err.message });\r\n                    return;\r\n                }\r\n\r\n                this.handleRefresh();\r\n                this.clear();\r\n            })\r\n            .catch(err => this.setState({ err }));\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({ name: '', email: '', password: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <h5 className=\"red-text\">{this.state.err ? this.state.err.message : null}</h5>\r\n                </div>\r\n                <div className=\"fixed-action-btn\">\r\n                    <a href=\"/\" className=\"btn-floating blue\" onClick={this.showModal}><i className=\"material-icons\">add</i></a>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {this.state.employees ? this.state.employees.map((emp, index) => {\r\n                        return (\r\n                            <div key={index} className=\"col s12 m4 l3\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-content\">\r\n                                        <span className=\"card-title\">{emp.name}</span>\r\n                                        <p>{emp.email}</p>\r\n                                    </div>\r\n                                    <div className=\"card-action\">\r\n                                        {emp.isAdmin ?\r\n                                            <button className=\"btn-flat red-text waves-effect waves-light\" onClick={() => this.toggleAdmin(emp)}>Revoke Admin</button>\r\n                                            :\r\n                                            <button className=\"btn-flat green-text waves-effect waves-light\" onClick={() => this.toggleAdmin(emp)}>Grant Admin</button>\r\n                                        }\r\n                                        <button className=\"btn-flat red-text waves-effect waves-light\" onClick={() => this.handleDelete(emp.id)}>Delete</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }) : null}\r\n                </div>\r\n                <div id=\"modal\" className=\"modal\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div style={{ height: '12px' }} />\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h5 className=\"red-text\">{this.state.modalErr ? this.state.modalErr : null}</h5>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <h4>Create New Employee</h4>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <form>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <input name=\"name\" id=\"name\" type=\"text\" onChange={this.handleTextChange} value={this.state.name} />\r\n                                        <label htmlFor=\"name\">Name</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <input name=\"email\" id=\"email\" type=\"text\" onChange={this.handleTextChange} value={this.state.email} />\r\n                                        <label htmlFor=\"email\">Email</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <input type=\"text\" id=\"password\" name=\"password\" onChange={this.handleTextChange} value={this.state.password} />\r\n                                        <label htmlFor=\"password\">Password</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"input-field\">\r\n                                        <button className=\"btn blue waves-effect waves-light\" onClick={this.handleSubmit}>Create</button>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport Overview from './Overview';\r\nimport Stations from './Stations';\r\nimport Parts from './Parts';\r\nimport WorkOrders from './WorkOrders';\r\nimport Employees from './Employees';\r\n\r\nexport default class Admin extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            err: null\r\n        }\r\n    }\r\n\r\n\r\n    componentWillMount = () => {\r\n        if (!this.state.isLoadedData) {\r\n            const userInfo = JSON.parse(sessionStorage.getItem('userInfo'));\r\n            if (!userInfo) {\r\n                this.props.history.replace('/');\r\n                return;\r\n            }\r\n            Axios.post('/api/v1/auth/verify', {\r\n                token: userInfo.token\r\n            })\r\n                .then(result => {\r\n                    if (result.data.err) {\r\n                        this.setState({ err: result.data.err, isLoadedData: true });\r\n                        return;\r\n                    }\r\n                    this.setState({ isLoggedIn: true, isAdmin: userInfo.isAdmin, username: userInfo.name })\r\n                })\r\n                .catch(err => this.setState({ err, isLoggedIn: true }))\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        let elem = document.querySelector('#slide-out');\r\n        M.Sidenav.init(elem, { draggable: true });\r\n    }\r\n\r\n    logout = () => {\r\n        Axios.post('api/v1/auth/logout')\r\n            .then(result => {\r\n                sessionStorage.clear();\r\n            })\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoggedIn)\r\n            return <p>Loading</p>\r\n\r\n        if (this.state.err)\r\n            return <h4>Login Failed</h4>\r\n\r\n        if (!this.state.isAdmin)\r\n            this.props.history.replace('/employee');\r\n\r\n        return (\r\n            <div>\r\n                <nav>\r\n                    <div className=\"nav-wrapper black\">\r\n                        <Link to=\"/admin\" className=\"brand-logo\">{this.state.username}</Link>\r\n                        <a href=\"/\" data-target=\"slide-out\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\r\n                        <ul id=\"navbar\" className=\"right hide-on-med-and-down\">\r\n                            <li><Link to=\"/admin\">Overview</Link></li>\r\n                            <li><Link to=\"/admin/workstations\">Work Stations</Link></li>\r\n                            <li><Link to=\"/admin/parts\">Parts</Link></li>\r\n                            <li><Link to=\"/admin/workorders\">Work Orders</Link></li>\r\n                            <li><Link to=\"/admin/employees\">Employees</Link></li>\r\n                            <li><Link to=\"/employee\">Go to Employee Page</Link></li>\r\n                            <li><Link to=\"/\" onClick={this.logout}>Logout</Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <ul id=\"slide-out\" className=\"sidenav\">\r\n                    <li><h5>{this.state.username}</h5></li>\r\n                    <li><div className=\"divider\" /></li>\r\n                    <li><Link to=\"/admin\">Overview</Link></li>\r\n                    <li><Link to=\"/admin/workstations\">Work Stations</Link></li>\r\n                    <li><Link to=\"/admin/parts\">Parts</Link></li>\r\n                    <li><Link to=\"/admin/workorders\">Work Orders</Link></li>\r\n                    <li><Link to=\"/admin/employees\">Employees</Link></li>\r\n                    <li><Link to=\"/employee\">Go to Employee Page</Link></li>\r\n                    <li><Link to=\"/\" onClick={this.logout}>Logout</Link></li>\r\n                </ul>\r\n\r\n                <Route exact path='/admin' component={Overview} />\r\n                <Route exact path=\"/admin/workstations\" component={Stations} />\r\n                <Route exact path=\"/admin/parts\" component={Parts} />\r\n                <Route exact path=\"/admin/workorders\" component={WorkOrders} />\r\n                <Route exact path=\"/admin/employees\" component={Employees} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            remember: false,\r\n            checked: null,\r\n            err: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (this.state.checked === null) {\r\n            const credentials = JSON.parse(localStorage.getItem('credentials'));\r\n            if (credentials) {\r\n                this.setState({ email: credentials.email, password: credentials.password, checked: true, remember: true });\r\n            }\r\n            else\r\n                this.setState({ checked: false })\r\n        }\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        this.setState({ [target.name]: value, err: null });\r\n    }\r\n\r\n    handleCheckboxChange = () => {\r\n        this.setState(prevState => ({\r\n            remember: !prevState.remember\r\n        }))\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.remember) {\r\n            localStorage.setItem('credentials', JSON.stringify({ email: this.state.email, password: this.state.password }))\r\n        }\r\n        else\r\n            localStorage.clear();\r\n\r\n        Axios.post('/api/v1/auth/login', {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        })\r\n            .then(result => {\r\n                if (result.data.err) {\r\n                    this.setState({ err: result.data.err });\r\n                    sessionStorage.clear();\r\n                    return;\r\n                }\r\n\r\n                const obj = {\r\n                    uid: result.data.uid,\r\n                    token: result.data.token,\r\n                    isAdmin: result.data.isAdmin,\r\n                    name: result.data.name\r\n                }\r\n\r\n                sessionStorage.setItem('userInfo', JSON.stringify(obj));\r\n                this.props.history.push('/admin');\r\n            })\r\n            .catch(err => this.setState({ err }))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\" >\r\n                <div className=\"row\">\r\n                    <div style={{ height: '20vh' }} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 m6 offset-m3\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-content\">\r\n                                <span className=\"card-title\">Sign In</span>\r\n                                <form>\r\n                                    <div className=\"row\" onClick={() => document.getElementById('email').focus()}>\r\n                                        <div className=\"input-field\">\r\n                                            <i className=\"material-icons prefix\">email_circle</i>\r\n                                            <input id=\"email\" name=\"email\" type=\"text\" onChange={this.handleInputChange} value={this.state.email} />\r\n                                            <label htmlFor=\"email\">Email</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\" onClick={() => document.getElementById('password').focus()}>\r\n                                        <div className=\"input-field\">\r\n                                            <i className=\"material-icons prefix\">lock</i>\r\n                                            <input id=\"password\" name=\"password\" type=\"password\" onChange={this.handleInputChange} value={this.state.password} />\r\n                                            <label htmlFor=\"password\">Password</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <p>\r\n                                            <label>\r\n                                                {this.state.checked ?\r\n                                                    <input type=\"checkbox\" defaultChecked onChange={this.handleCheckboxChange} />\r\n                                                    :\r\n                                                    <input type=\"checkbox\" onChange={this.handleCheckboxChange} />\r\n                                                }\r\n                                                <span>Remember Me</span>\r\n                                            </label>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"input-field\">\r\n                                            <button className=\"btn waves-effect waves-light blue\" onClick={this.handleSubmit}>Sign In</button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <h6 className=\"red-text\">{this.state.err ? this.state.err.message : null}</h6>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport \"./Notfound.css\"; \r\n\r\nclass Notfound extends React.Component {\r\n    render() {\r\n        return (\r\n          <div className='z'>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='col-sm-3'>\r\n                        <h1>404: Page not Found</h1>\r\n                        <Link to=\"/\">Return to login</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notfound;","import React from \"react\";\r\nimport Employee from \"./material_pages/employee/Employee\";\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Admin from \"./material_pages/admin/Admin\";\r\nimport Login from \"./material_pages/login/Login\";\r\nimport Notfound from \"./components/Notfound\";\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Login} />\r\n                    <Route path=\"/admin\" component={Admin} />\r\n                    <Route exact path=\"/employee\" component={Employee} />\r\n                    <Route component={Notfound}/>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}