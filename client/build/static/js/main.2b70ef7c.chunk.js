(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(224)},192:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(103),o=a.n(l),i=a(34),s=a(19),c=a(26),m=a(21),d=a(20),u=a(22),p=a(232),h=a(226),b=a(234),E=a(227),f=a(228),g=function(e){return r.a.createElement(p.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Brand,null,r.a.createElement("a",{href:"#brand"},"Employee Name")),r.a.createElement(p.a.Toggle,null)),r.a.createElement(p.a.Collapse,null,r.a.createElement(h.a,null,r.a.createElement(b.a,{eventKey:1,title:"Work Stations",id:"basic-nav-dropdown"},e.stations.map(function(t){return r.a.createElement(E.a,{"data-id":t.id,key:t.id,onClick:e.handleStationSelect},t.name)}))),r.a.createElement(h.a,{pullRight:!0},r.a.createElement(f.a,{eventKey:1,href:"#profile"},"Profile"),r.a.createElement(f.a,{eventKey:2,href:"#logout"},"Logout"))))},v=a(23),S=a.n(v),k=(a(192),function(e){return r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("div",{className:"thumbnail card"},r.a.createElement("div",{className:"caption"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.text),e.inProgress?r.a.createElement("button",{value:e.id,type:"button",className:"btn btn-danger",onClick:e.onToggle},"Stop"):r.a.createElement("button",{value:e.id,type:"button",className:"btn btn-success",onClick:e.onToggle},"Start"))))}),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleStationSelect=function(e){S.a.get("/api/v1/workorders/active/".concat(e.target.getAttribute("data-id"))).then(function(e){var t=[];e.data.forEach(function(e){return t.push(Object(i.a)({},e,{inProgress:!1}))}),a.setState({workOrders:t})})},a.handleJobStart=function(e){var t=e.target.value,n=a.state.workOrders.slice(0);n.forEach(function(e){e.id===t?e.inProgress=!0:e.inProgress=!1}),a.setState({workOrders:n})},a.handleJobStop=function(e){var t=a.state.workOrders.slice(0);t.forEach(function(e){e.inProgress=!1}),a.setState({workOrders:t})},a.state={stations:[],workOrders:[]},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,{stations:this.state.stations,handleStationSelect:this.handleStationSelect}),r.a.createElement("div",{className:"container"},this.state.workOrders.map(function(t){return t.inProgress?r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStop,inProgress:t.inProgress,text:t.text,title:"this is a work order"}):r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStart,inProgress:t.inProgress,text:t.text,title:"this is a work order"})})))}}]),t}(r.a.Component),O=a(238),w=a(237),j=a(231),C=a(74),N=a.n(C),x=a(111),I=a(233),P=a(229),A=a(230),M=a(235),B=a(196);a(225);B.initializeApp({apiKey:"AIzaSyAZB-qbjpKVRvaQt17kPsPTMav3O12by6k",authDomain:"project-runner-f1bdc.firebaseapp.com",databaseURL:"https://project-runner-f1bdc.firebaseio.com",projectId:"project-runner-f1bdc",storageBucket:"project-runner-f1bdc.appspot.com",messagingSenderId:"757776283780"});var T=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("span",{className:"label label-primary",style:{float:"left",marginRight:"7px"}},e.stationName)),r.a.createElement("button",{"data-id":e.id,className:"btn btn-danger",onClick:e.removeStation},"x"))},K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).removeStation=function(e){e.preventDefault();var t=e.target.getAttribute("data-id"),n=Object.assign(a.state.part),r=a.state.part.stations.slice(0);r.forEach(function(e,a){e.id===t&&r.splice(a,1)}),n.stations=r,a.setState({part:n})},a.showModal=function(){return a.setState({showModal:!0})},a.hideModal=function(){return a.setState({showModal:!1})},a.handleSelectChange=function(e){var t=e.target.value,n=e.target.children[e.target.selectedIndex].text;a.setState({selectedStation:{id:t,name:n}})},a.addStation=function(){var e=Object.assign(a.state.part);e.stations.push(a.state.selectedStation),a.setState({part:e,showModal:!1,selectedStation:a.state.stations[0]})},a.handleInput=function(e){var t=e.target.name,n=Object.assign(a.state.part);n[t]=e.target.value,a.setState({part:n})},a.clear=function(){document.getElementById("part-id").value="",a.setState({part:{id:"",stations:[]}})},a.handleSubmit=Object(x.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.part.stations.length<1)){e.next=3;break}return console.log("There is no information to post"),e.abrupt("return");case 3:void 0!==(t=document.getElementById("attachment").files[0])?((n=new FileReader).onloadend=function(e){var n=new Blob([e.target.result],{type:t.type});S.a.post("/api/v1/parts/create",{part:Object(i.a)({},a.state.part,{filename:t.name})}).then(function(e){B.storage().ref("/".concat(e.data.newPartID,"/").concat(t.name)).put(n).then(function(){return console.log("success")},function(){return console.log("error")})})},n.readAsArrayBuffer(t)):S.a.post("/api/v1/parts/create",{part:Object(i.a)({},a.state.part,{filename:"no file"})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e,this)})),a.state={selectedStation:{},stations:[],part:{id:"",doc:"",stations:[]},showModal:!1},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data,selectedStation:e.data[0]})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{id:"part-form",action:"/api/v1/parts/test",method:"POST"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon",id:"part-number-addon"},"Part ID"),r.a.createElement("input",{name:"id",id:"part-id",onChange:this.handleInput,type:"text",className:"form-control",placeholder:"If left blank an ID will be auto-generated","aria-describedby":"part-number-addon"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"doc",id:"attachment",onChange:this.handleInput,type:"file",className:"form-control","aria-describedby":"part-document-addon"})),this.state.part.stations.map(function(t,a){return r.a.createElement(T,{key:a,stationName:t.name,id:t.id,removeStation:e.removeStation})})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success",onClick:this.showModal},"Add Station"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-success",onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.clear},"Clear")),r.a.createElement(I.a,{show:this.state.showModal},r.a.createElement(I.a.Title,null,"Select a Station"),r.a.createElement(P.a,null,r.a.createElement(A.a,null,"Stations"),r.a.createElement(M.a,{componentClass:"select",placeholder:"Select a station",onChange:this.handleSelectChange},this.state.stations.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement(P.a,null,r.a.createElement("button",{className:"btn btn-success",onClick:this.addStation},"OK"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.hideModal},"Cancel"))))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){e.preventDefault();var t=e.target.getAttribute("data-ref");document.getElementById(t).click()},a.render=function(e){return r.a.createElement(O.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Brand,null,r.a.createElement("a",{href:"#","data-ref":"admin",onClick:a.handleClick},"Admin Name")),r.a.createElement(p.a.Toggle,null)),r.a.createElement(p.a.Collapse,null,r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:1,"data-ref":"stations",title:"Work Stations",onClick:a.handleClick},"Work Stations")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:2,"data-ref":"jobs",title:"Jobs",onClick:a.handleClick},"Jobs")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:3,title:"Parts","data-ref":"parts",onClick:a.handleClick},"Parts")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:4,"data-ref":"employees",title:"Employees",onClick:a.handleClick},"Employees")),r.a.createElement(h.a,{pullRight:!0},r.a.createElement(f.a,{eventKey:2,href:"#logout"},"Logout")))),r.a.createElement(j.a,{to:"/admin/parts",id:"parts"}),r.a.createElement(j.a,{to:"/admin/stations",id:"stations"}),r.a.createElement(j.a,{to:"/admin/jobs",id:"jobs"}),r.a.createElement(j.a,{to:"/admin/employees",id:"employees"}),r.a.createElement(j.a,{to:"/admin",id:"admin"}),r.a.createElement(w.a,{exact:!0,path:"/admin/parts",component:K})))},a.state={ref:null},a}return Object(u.a)(t,e),t}(r.a.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleStationSelect=function(e){S.a.get("/api/v1/workorders/active/".concat(e.target.getAttribute("data-id"))).then(function(e){var t=[];e.data.forEach(function(e){return t.push(Object(i.a)({},e,{inProgress:!1}))}),a.setState({workOrders:t})})},a.state={stations:[],workOrders:[]},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(J,{stations:this.state.stations,handleStationSelect:this.handleStationSelect}),r.a.createElement("div",{className:"container"},this.state.workOrders.map(function(t){return t.inProgress?r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStop,inProgress:t.inProgress,text:t.text,title:"this is a work order"}):r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStart,inProgress:t.inProgress,text:t.text,title:"this is a work order"})})))}}]),t}(r.a.Component),R=a(54),F=(a(220),a(236)),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleInput=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(R.a)({},t,n))},a.handleCheckBox=function(e){var t=e.target.checked;a.setState({rememberMe:t})},a.handleSubmit=function(e){a.setState({err:{}}),e.preventDefault(),S.a.post("api/v1/auth/login",{email:a.state.email,password:a.state.password}).then(function(e){e.data.err?a.setState({err:e.data.err}):(!0===a.state.rememberMe?localStorage.setItem("email",a.state.email):localStorage.removeItem("email"),sessionStorage.setItem("isAdmin",e.data.isAdmin),sessionStorage.setItem("uid",e.data.uid),a.setState({isAdmin:e.data.isAdmin}))})},a.state={err:null,email:localStorage.getItem("email")||null,password:null,rememberMe:!!localStorage.getItem("email")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.email&&(document.getElementById("exampleCheck1").click(),document.getElementById("exampleInputEmail1").value=this.state.email)}},{key:"render",value:function(e){return!0===this.state.isAdmin?r.a.createElement(F.a,{to:"/admin"}):!1===this.state.isAdmin?r.a.createElement(F.a,{to:"/employee"}):r.a.createElement("div",{className:"form-align"},r.a.createElement("form",{className:"loginForm"},r.a.createElement("div",null,r.a.createElement("h3",null,"Sign In")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{name:"email",onChange:this.handleInput,type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Enter Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",onChange:this.handleInput,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{name:"rememberMe",onChange:this.handleCheckBox,type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Remember me")),r.a.createElement("button",{type:"Submit",className:"btn btn-primary",onClick:this.handleSubmit},"Submit")),r.a.createElement("h5",{style:{color:"red"}},this.state.err?this.state.err.message:""))}}]),t}(r.a.Component),W=(a(222),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(L,null))))}}]),t}(r.a.Component)),z=function(e){return r.a.createElement(O.a,null,r.a.createElement("div",null,r.a.createElement(w.a,{exact:!0,path:"/",component:W}),r.a.createElement(w.a,{path:"/admin",component:D}),r.a.createElement(w.a,{exact:!0,path:"/employee",component:y})))};o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[112,2,1]]]);
//# sourceMappingURL=main.2b70ef7c.chunk.js.map