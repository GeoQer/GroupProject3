(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(227)},194:function(e,t,a){},223:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(105),o=a.n(l),i=a(35),s=a(19),c=a(27),m=a(21),d=a(20),u=a(22),p=a(234),h=a(228),g=a(236),E=a(229),f=a(230),b=function(e){return r.a.createElement(p.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Brand,null,r.a.createElement("a",{href:"#brand"},"Employee Name")),r.a.createElement(p.a.Toggle,null)),r.a.createElement(p.a.Collapse,null,r.a.createElement(h.a,null,r.a.createElement(g.a,{eventKey:1,title:"Work Stations",id:"basic-nav-dropdown"},e.stations.map(function(t){return r.a.createElement(E.a,{"data-id":t.id,key:t.id,onClick:e.handleStationSelect},t.name)}))),r.a.createElement(h.a,{pullRight:!0},r.a.createElement(f.a,{eventKey:1,href:"#profile"},"Profile"),r.a.createElement(f.a,{eventKey:2,href:"#logout",onClick:e.handleLogout},"Logout"))))},v=a(13),S=a.n(v),k=(a(194),function(e){return r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("div",{className:"thumbnail card"},r.a.createElement("div",{className:"caption"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.text),e.inProgress?r.a.createElement("button",{value:e.id,type:"button",className:"btn btn-danger",onClick:e.onToggle},"Stop"):r.a.createElement("button",{value:e.id,type:"button",className:"btn btn-success",onClick:e.onToggle},"Start"))))}),w=a(231),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleStationSelect=function(e){S.a.get("/api/v1/workorders/active/".concat(e.target.getAttribute("data-id"))).then(function(e){var t=[];e.data.forEach(function(e){return t.push(Object(i.a)({},e,{inProgress:!1}))}),a.setState({workOrders:t})})},a.handleLogout=function(){S.a.post("/api/v1/auth/logout").then(function(e){!0===e.data.signedOut&&(sessionStorage.clear(),window.location.replace("/"))})},a.handleJobStart=function(e){var t=e.target.value,n=a.state.workOrders.slice(0);n.forEach(function(e){e.id===t?e.inProgress=!0:e.inProgress=!1}),a.setState({workOrders:n})},a.handleJobStop=function(e){var t=a.state.workOrders.slice(0);t.forEach(function(e){e.inProgress=!1}),a.setState({workOrders:t})},a.state={stations:[],workOrders:[]},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.a.post("/api/v1/auth/verify",{token:sessionStorage.getItem("token")}).then(function(t){t.data.uid===sessionStorage.getItem("uid")?e.setState({isLoggedIn:!0}):sessionStorage.clear()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement("div",null,r.a.createElement(b,{stations:this.state.stations,handleStationSelect:this.handleStationSelect,handleLogout:this.handleLogout}),r.a.createElement("div",{className:"container"},this.state.workOrders.map(function(t){return t.inProgress?r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStop,inProgress:t.inProgress,text:t.text,title:"this is a work order"}):r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStart,inProgress:t.inProgress,text:t.text,title:"this is a work order"})}))):r.a.createElement("div",null,r.a.createElement("h1",null,"You are not logged in"),r.a.createElement(w.a,{to:"/"},"login"))}}]),t}(r.a.Component),O=a(239),N=a(240),C=a(76),j=a.n(C),I=a(113),x=a(235),P=a(232),A=a(233),M=a(237),T=a(70);a(104);var B=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("span",{className:"label label-primary",style:{float:"left",marginRight:"7px"}},e.stationName)),r.a.createElement("button",{"data-id":e.id,className:"btn btn-danger",onClick:e.removeStation},"x"))},L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).removeStation=function(e){e.preventDefault();var t=e.target.getAttribute("data-id"),n=Object.assign(a.state.part),r=a.state.part.stations.slice(0);r.forEach(function(e,a){e.id===t&&r.splice(a,1)}),n.stations=r,a.setState({part:n})},a.showModal=function(){return a.setState({showModal:!0})},a.hideModal=function(){return a.setState({showModal:!1})},a.handleSelectChange=function(e){var t=e.target.value,n=e.target.children[e.target.selectedIndex].text;a.setState({selectedStation:{id:t,name:n}})},a.addStation=function(){var e=Object.assign(a.state.part);e.stations.push(a.state.selectedStation),a.setState({part:e,showModal:!1,selectedStation:a.state.stations[0]})},a.handleInput=function(e){var t=e.target.name,n=Object.assign(a.state.part);n[t]=e.target.value,a.setState({part:n})},a.clear=function(){document.getElementById("part-id").value="",a.setState({part:{id:"",stations:[]}})},a.handleSubmit=Object(I.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.part.stations.length<1)){e.next=3;break}return console.log("There is no information to post"),e.abrupt("return");case 3:void 0!==(t=document.getElementById("attachment").files[0])?((n=new FileReader).onloadend=function(e){var n=new Blob([e.target.result],{type:t.type});S.a.post("/api/v1/parts/create",{part:Object(i.a)({},a.state.part,{filename:t.name})}).then(function(e){T.storage().ref("/".concat(e.data.newPartID,"/").concat(t.name)).put(n).then(function(){return console.log("success")},function(){return console.log("error")})})},n.readAsArrayBuffer(t)):S.a.post("/api/v1/parts/create",{part:Object(i.a)({},a.state.part,{filename:"no file"})}).catch(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e,this)})),a.state={selectedStation:{},stations:[],part:{id:"",doc:"",stations:[]},showModal:!1},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data,selectedStation:e.data[0]})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{id:"part-form",action:"/api/v1/parts/test",method:"POST"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon",id:"part-number-addon"},"Part ID"),r.a.createElement("input",{name:"id",id:"part-id",onChange:this.handleInput,type:"text",className:"form-control",placeholder:"If left blank an ID will be auto-generated","aria-describedby":"part-number-addon"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"doc",id:"attachment",onChange:this.handleInput,type:"file",className:"form-control","aria-describedby":"part-document-addon"})),this.state.part.stations.map(function(t,a){return r.a.createElement(B,{key:a,stationName:t.name,id:t.id,removeStation:e.removeStation})})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success",onClick:this.showModal},"Add Station"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-success",onClick:this.handleSubmit},"Submit"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.clear},"Clear")),r.a.createElement(x.a,{show:this.state.showModal},r.a.createElement(x.a.Title,null,"Select a Station"),r.a.createElement(P.a,null,r.a.createElement(A.a,null,"Stations"),r.a.createElement(M.a,{componentClass:"select",placeholder:"Select a station",onChange:this.handleSelectChange},this.state.stations.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement(P.a,null,r.a.createElement("button",{className:"btn btn-success",onClick:this.addStation},"OK"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.hideModal},"Cancel"))))}}]),t}(r.a.Component),K=a(70);a(104);K.initializeApp({apiKey:"AIzaSyAZB-qbjpKVRvaQt17kPsPTMav3O12by6k",authDomain:"project-runner-f1bdc.firebaseapp.com",databaseURL:"https://project-runner-f1bdc.firebaseio.com",projectId:"project-runner-f1bdc",storageBucket:"project-runner-f1bdc.appspot.com",messagingSenderId:"757776283780"});var J=function(e){return r.a.createElement("div",{className:"row"},e.parts.map(function(t){return r.a.createElement(D,{key:t.id,title:t.id,stations:t.stations,filepath:t.filepath,viewAttachment:e.viewAttachment})}))},D=function(e){return r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("div",{className:"caption"},r.a.createElement("h3",{className:"card-title"},e.title),r.a.createElement("p",null,r.a.createElement("strong",null,"Stations: ")),e.stations.map(function(e){return r.a.createElement("p",{key:e.id},e.name)}),r.a.createElement("button",{className:"btn btn-primary","data-filepath":e.filepath,onClick:e.viewAttachment},"View Attachment"))))},R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=function(){S.a.get("/api/v1/parts/all").then(function(e){return a.setState({parts:e.data})})},a.componentWillUpdate=function(){S.a.get("/api/v1/parts/all").then(function(e){return a.setState({parts:e.data})})},a.handleTabSelect=function(e){for(var t=e.target,a=document.getElementsByClassName("tab-link"),n=0;n<a.length;n++)a[n].setAttribute("class","tab-link");t.parentElement.setAttribute("class","active tab-link")},a.viewAttachment=function(e){K.storage().ref(e.target.getAttribute("data-filepath")).getDownloadURL().then(function(e){return window.open(e,"_blank")})},a.render=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement("li",{role:"presentation",className:"active tab-link",onClick:a.handleTabSelect},r.a.createElement(w.a,{to:"/admin/parts/view"},"View")),r.a.createElement("li",{role:"presentation",className:"tab-link",onClick:a.handleTabSelect},r.a.createElement(w.a,{to:"/admin/parts/edit"},"Edit")),r.a.createElement("li",{role:"presentation",className:"tab-link",onClick:a.handleTabSelect},r.a.createElement(w.a,{to:"/admin/parts/create"},"Create"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N.a,{path:"/admin/parts/create",component:L}),r.a.createElement(N.a,{path:"/admin/parts/view",component:function(){return r.a.createElement(J,{parts:a.state.parts,viewAttachment:a.viewAttachment})}}))},a.state={parts:[]},a}return Object(u.a)(t,e),t}(r.a.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){e.preventDefault();var t=e.target.getAttribute("data-ref");document.getElementById(t).click()},a.handleLogout=function(){S.a.post("/api/v1/auth/logout").then(function(e){!0===e.data.signedOut&&(sessionStorage.clear(),window.location.replace("/"))})},a.render=function(e){return r.a.createElement(O.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Brand,null,r.a.createElement("a",{href:"/","data-ref":"admin",onClick:a.handleClick},"Admin Name")),r.a.createElement(p.a.Toggle,null)),r.a.createElement(p.a.Collapse,null,r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:1,"data-ref":"stations",title:"Work Stations",onClick:a.handleClick},"Work Stations")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:2,"data-ref":"jobs",title:"Jobs",onClick:a.handleClick},"Jobs")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:3,title:"Parts","data-ref":"parts",onClick:a.handleClick},"Parts")),r.a.createElement(h.a,null,r.a.createElement(f.a,{eventKey:4,"data-ref":"employees",title:"Employees",onClick:a.handleClick},"Employees")),r.a.createElement(h.a,{pullRight:!0},r.a.createElement(f.a,{eventKey:2,"data-ref":"logout",onClick:a.handleLogout},"Logout")))),r.a.createElement(w.a,{to:"/admin/parts/view",id:"parts"}),r.a.createElement(w.a,{to:"/admin/stations",id:"stations"}),r.a.createElement(w.a,{to:"/admin/jobs",id:"jobs"}),r.a.createElement(w.a,{to:"/admin/employees",id:"employees"}),r.a.createElement(w.a,{to:"/admin",id:"admin"}),r.a.createElement(w.a,{to:"/",id:"logout"}),r.a.createElement(N.a,{path:"/admin/parts",component:R})))},a.state={ref:null},a}return Object(u.a)(t,e),t}(r.a.Component),F=a(70);a(221),F.auth().setPersistence(F.auth.Auth.Persistence.SESSION);var U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleStationSelect=function(e){S.a.get("/api/v1/workorders/active/".concat(e.target.getAttribute("data-id"))).then(function(e){var t=[];e.data.forEach(function(e){return t.push(Object(i.a)({},e,{inProgress:!1}))}),a.setState({workOrders:t})})},a.state={stations:[],workOrders:[],isLoggedIn:!1},S.a.get("/api/v1/stations/all").then(function(e){return a.setState({stations:e.data})}),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;S.a.post("/api/v1/auth/verify",{token:sessionStorage.getItem("token")}).then(function(t){t.data.uid===sessionStorage.getItem("uid")?e.setState({isLoggedIn:!0}):sessionStorage.clear()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"true"!==sessionStorage.getItem("isAdmin")?r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"You are not an Admin"),r.a.createElement(w.a,{to:"/employee"},"Go to Employee Page")):this.state.isLoggedIn?r.a.createElement("div",null,r.a.createElement(W,{stations:this.state.stations,handleStationSelect:this.handleStationSelect}),r.a.createElement("div",{className:"container"},this.state.workOrders.map(function(t){return t.inProgress?r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStop,inProgress:t.inProgress,text:t.text,title:"this is a work order"}):r.a.createElement(k,{key:t.id,id:t.id,onToggle:e.handleJobStart,inProgress:t.inProgress,text:t.text,title:"this is a work order"})}))):r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"You are not logged in"),r.a.createElement(w.a,{to:"/"},"login"))}}]),t}(r.a.Component),V=a(55),Y=(a(223),a(238)),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleInput=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(V.a)({},t,n))},a.handleCheckBox=function(e){var t=e.target.checked;a.setState({rememberMe:t})},a.handleSubmit=function(e){a.setState({err:{}}),e.preventDefault(),S.a.post("api/v1/auth/login",{email:a.state.email,password:a.state.password}).then(function(e){e.data.err?a.setState({err:e.data.err}):(!0===a.state.rememberMe?localStorage.setItem("email",a.state.email):localStorage.removeItem("email"),sessionStorage.setItem("isAdmin",e.data.isAdmin),sessionStorage.setItem("uid",e.data.uid),sessionStorage.setItem("token",e.data.token),a.setState({isAdmin:e.data.isAdmin}))})},a.state={err:null,email:localStorage.getItem("email")||null,password:null,rememberMe:!!localStorage.getItem("email")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.email&&(document.getElementById("exampleCheck1").click(),document.getElementById("exampleInputEmail1").value=this.state.email)}},{key:"render",value:function(e){return!0===this.state.isAdmin?r.a.createElement(Y.a,{to:"/admin"}):!1===this.state.isAdmin?r.a.createElement(Y.a,{to:"/employee"}):r.a.createElement("div",{className:"form-align"},r.a.createElement("form",{className:"loginForm"},r.a.createElement("div",null,r.a.createElement("h3",null,"Sign In")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{name:"email",onChange:this.handleInput,type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Enter Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",onChange:this.handleInput,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{name:"rememberMe",onChange:this.handleCheckBox,type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Remember me")),r.a.createElement("button",{type:"Submit",className:"btn btn-primary",onClick:this.handleSubmit},"Submit")),r.a.createElement("h5",{style:{color:"red"}},this.state.err?this.state.err.message:""))}}]),t}(r.a.Component),H=(a(225),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(z,null))))}}]),t}(r.a.Component)),q=function(e){return r.a.createElement(O.a,null,r.a.createElement("div",null,r.a.createElement(N.a,{exact:!0,path:"/",component:H}),r.a.createElement(N.a,{path:"/admin",component:U}),r.a.createElement(N.a,{exact:!0,path:"/employee",component:y})))};o.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[114,2,1]]]);
//# sourceMappingURL=main.7c851551.chunk.js.map